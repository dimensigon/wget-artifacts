{
  "name": "tibero_vps_scw",
  "stop_on_error": true,
  "undo_on_error": true,
  "stop_undo_on_error": true,
  "steps": [
    {
      "id": "1",
      "undo": false,
      "schema": {
        "mapping": {
          "orchestration": "create_scw_server",
          "hosts": {
            "from": "env.server_id"
          },
          "image": "centos_7.6",
          "instance_type": "DEV1-M"
        }
      },
      "system_kwargs": {},
      "parent_step_ids": [],
      "action_type": "ORCHESTRATION"
    },
    {
      "id": "2",
      "undo": false,
      "schema": {
        "mapping": {
          "orchestration": "install_lw_tibero",
          "hosts": {
            "from": "input.name"
          }
        }
      },
      "system_kwargs": {},
      "parent_step_ids": [
        "1"
      ],
      "action_type": "ORCHESTRATION"
    },
    {
      "id": 3,
      "undo": false,
      "action_type": "SHELL",
      "code": "python /home/joan/PyCharmProjects/Dimensigon_WooCommerce_backend/send_email_googleapi.py --subject=\"Dimensigon Tibero Server\" --email-template=/home/joan/PyCharmProjects/Dimensigon_WooCommerce_backend/template/tibero_template.html --image-directory=/home/joan/PyCharmProjects/Dimensigon_WooCommerce_backend/template/images --param=name:\"{{input.client_email}}\" --param=db_user:sys --param=db_password:{{input.sys_password}} --param=db_server:{{input.scw_id}}.pub.instances.scw.cloud --param=db_port:8629 --param=db_name:tibero /home/joan/PyCharmProjects/Dimensigon_WooCommerce_backend/credentials.json /home/joan/PyCharmProjects/Dimensigon_WooCommerce_backend/token.pickle {{input.client_email}}",
      "expected_rc": 0,
      "parent_step_ids": [
        "2"
      ],
      "schema": {
        "input": {
          "client_email": {
            "type": "string"
          },
          "sys_password": {
            "type": "string"
          },
          "scw_id": {
            "type": "string"
          }
        },
        "required": ["client_email", "sys_password", "scw_id"]
      }
    }
  ]
}
